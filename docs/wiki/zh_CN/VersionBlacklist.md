# Version Blacklist - 版本黑名单

## 说明

本项目的版本黑名单，列出了本项目的版本黑名单，请注意避免使用这些版本。

列入黑名单的版本，可能是因为以下原因：

- 该版本存在严重的 Bug，可能会导致核心功能无法正常使用。
- 该版本存在严重的 Bug，可能会导致数据丢失、数据错误等严重后果。

## 版本黑名单

| 版本号      | 原因                   |
|----------|----------------------|
| <1.3.0.a | 在网络质量较差的环境中导致服务永久性阻塞 |

## 详细原因

### <1.3.0.a

详细版本号（最高的 5 个）:

- Release_1.2.4_20250324_build_A
- Release_1.2.3_20241117_build_A
- Release_1.2.2_20240730_build_A
- Release_1.2.1_20240514_build_A
- Release_1.2.0_20240506_build_A

原因： 在网络质量较差的环境中导致服务永久性阻塞。

- 缺乏对数据连接模式的设置方式，使得数据连接模式事实上处于本地主动模式。

   - 工作机制：
      - 客户端通过 `PORT` 命令将自己的 IP 地址和端口告知服务器。
      - 服务器主动连接到客户端指定的端口以建立数据通道。
      - 每次传输前客户端都会发送 `PORT` 命令，确保服务器使用新的连接。

  在此模式下，服务器主动连接到客户端，客户端开启 `ServerSocket`，并使用 `accept` 方法等待服务端连接。

- 未设置超时时间。

  在本地主动模式连接模式下，服务器主动连接到客户端，客户端开启 `ServerSocket`，并使用 `accept` 方法等待服务端连接。

  如果服务端连接客户端的请求数据包由于网络原因丢失，则会造成客户端 `ServerSocket.accept()` 方法无法退出，
  进而导致服务永久阻塞。
